DROP TABLE PRJMNG;
CREATE TABLE PRJMNG(
    PRJNO NUMBER,
    MNO NUMBER,
    PRJMNG_ST DATE,
    PRJMNG_END DATE,
    PRJMNG_ROLE VARCHAR2(20),
    CONSTRAINT PK_PRJMNG PRIMARY KEY (PRJNO, MNO)
    );
    
--MNO 45번 , PRJNO 2
INSERT INTO PRJMNG (PRJNO, MNO,PRJMNG_ST,PRJMNG_END,PRJMNG_ROLE) VALUES 
(2,45,'2023-08-01','2024-12-12','대리');
INSERT INTO PRJMNG (PRJNO, MNO,PRJMNG_ST,PRJMNG_END,PRJMNG_ROLE) VALUES 
(2,59,'2023-08-01','2024-12-12','PM');
    
--이렇게 쓰면 X    
SELECT 
    M.NAME 이름, M.PHONE 핸드폰번호, M.EMPLYEAR 년차, 
    P.PRJNAME 프로젝트명, P.PRJSTATUS "프로젝트 진행상황", 
    PR.PRJMNG_ST "프로젝트 투입일", PR.PRJMNG_END "프로젝트 철수일",PR.PRJMNG_ROLE 직급
FROM PRJMNG PR
LEFT JOIN PROJECT P ON PR.PRJNO = P.PRJNO
LEFT JOIN MEMBER M ON PR.MNO = M.MNO;


SELECT 
    M.NAME 이름, M.PHONE 핸드폰번호, M.EMPLYEAR 년차, 
    P.PRJNAME 프로젝트명, P.PRJSTATUS "프로젝트 진행상황", 
    PR.PRJMNG_ST "프로젝트 투입일", PR.PRJMNG_END "프로젝트 철수일",PR.PRJMNG_ROLE 직급
FROM PROJECT P
LEFT JOIN PRJMNG PR ON PR.PRJNO = P.PRJNO
LEFT JOIN MEMBER M ON PR.MNO = M.MNO;

SELECT DTLCODE,DTLCODENM FROM DCODEDTL WHERE DCODE = 'M001';    
    
SELECT 
    M.NAME as name,PR.PRJMNG_ST as PRJMNG_ST,PR.PRJMNG_END as PRJMNG_END,PR.PRJMNG_ROLE as PRJMNG_ROLE
FROM MEMBER M
LEFT JOIN PRJMNG PR ON PR.MNO = M.MNO;


COMMIT;
